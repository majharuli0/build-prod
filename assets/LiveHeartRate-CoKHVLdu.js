import{r as i,bs as y,br as p,j as e,t as R,gq as N,gQ as w,gs as I}from"./index-B7DZ3qIe.js";import _ from"./LiveRateChart-C4F7JPXB.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="07ded180-1db7-45e7-af0d-33f6f2709c2a",s._sentryDebugIdIdentifier="sentry-dbid-07ded180-1db7-45e7-af0d-33f6f2709c2a")}catch{}function L(){var m,h,u;const{elderlyDetails:s,sleepData:t}=i.useContext(y),{deviceData:c}=i.useContext(p),a=s==null?void 0:s.deviceId,[b,x]=i.useState({time:[],heartRate:[],breathRate:[]}),[n,o]=i.useState(null),[f,g]=i.useState(Date.now()),j=r=>{const l=I(r);o(l),g(Date.now())};return i.useEffect(()=>{const r=setInterval(()=>{if(Date.now()-f>5e3)o(null),x({time:[],heartRate:[],breathRate:[]});else if(n){const v=new Date().toLocaleTimeString();x(d=>({time:[...d.time,v].slice(-30),heartRate:[...d.heartRate,n.heartRateValue].slice(-30),breathRate:[...d.breathRate,n.breathingValue].slice(-30)}))}},1e3);return()=>clearInterval(r)},[n,f]),i.useEffect(()=>{if(console.log(a==null?void 0:a.length),!(a!=null&&a.length)){o(null);return}for(const r of[a]){if(!c[r])continue;const{heartBreath:l}=c[r];if(l){j(l);return}}o(null)},[c]),e.jsxs("div",{className:"w-full bg-white rounded-2xl p-6 flex flex-col gap-6 h-auto",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:["Current Heart Activity"," ",e.jsx(R,{title:"This feature functions only if the user is in the monitoring bed.",className:"cursor-pointer",children:e.jsx(N,{size:"18px"})})]}),e.jsx("div",{id:"LiveRate",className:"flex flex-col gap-1 pl-3 mb-2",children:e.jsxs("div",{className:"text-4xl font-bold flex items-center gap-2",style:{color:"#D76C82"},children:[(n==null?void 0:n.heartRateValue)??"--"," ",e.jsx("span",{className:"text-secondary/40",children:"BPM"}),e.jsx(w,{color:"#D76C82",size:24})]})}),e.jsx(_,{data:b,color:"#D76C82",type:"heartRate"}),e.jsx("div",{id:"footer",children:e.jsxs("div",{className:"flex justify-evenly items-center",children:[e.jsxs("div",{id:"avgRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsx("div",{className:"text-3xl text-primary font-bold",children:((m=t==null?void 0:t.heart_rate_vo)==null?void 0:m.avg)??"--"}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Average"})]}),e.jsxs("div",{id:"minRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsxs("div",{className:"text-3xl text-primary font-bold",children:[" ",((h=t==null?void 0:t.heart_rate_vo)==null?void 0:h.min)??"--"]}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Minimum"})]}),e.jsxs("div",{id:"maxRate",className:"flex flex-col items-center justify-center gap-0",children:[e.jsxs("div",{className:"text-3xl text-primary font-bold",children:[" ",((u=t==null?void 0:t.heart_rate_vo)==null?void 0:u.max)??"--"]}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"Maximum"})]})]})})]})}export{L as default};
//# sourceMappingURL=LiveHeartRate-CoKHVLdu.js.map
